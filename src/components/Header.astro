---
// src/components/Header.astro
const navLinks = [
    { name: "Accueil", href: "/" },
    { name: "Philosophie", href: "/philosophie" },
    { name: "Séquences", href: "/sequences" },
    { name: "Outils TICE", href: "/outils-tice" },
    { name: "Impact", href: "/impact" },
    { name: "Parcours", href: "/parcours" },
]
---
<header class="w-full border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md z-50 relative">
    
    <nav class="container mx-auto px-4 h-20 flex items-center justify-between max-w-5xl">
        <a href="/" class="text-xl font-bold text-gray-900 dark:text-white">
            Younes TICHOUA
            <span class="text-sm font-light text-blue-600 dark:text-blue-400">/ Portfolio</span>
        </a>
        
        <div class="hidden md:flex gap-6">
            {navLinks.map((link) => (
                <a 
                    href={link.href} 
                    class:list={[
                        "text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",
                        { "text-blue-600 dark:text-blue-400 font-medium": Astro.url.pathname.startsWith(link.href) && link.href !== '/' || Astro.url.pathname === link.href },
                        { "text-blue-600 dark:text-blue-400 font-medium": Astro.url.pathname === '/' && link.href === '/' }
                    ]}
                >
                    {link.name}
                </a>
            ))}
        </div>
        
        <div class="md:hidden">
            <button id="hamburger-button" type="button" class="p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800">
                <span class="sr-only">Ouvrir le menu</span>
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>
    </nav>

    <div id="mobile-menu" class="hidden md:hidden absolute top-20 left-0 w-full bg-white dark:bg-gray-900 shadow-lg border-t border-gray-200 dark:border-gray-700">
        <ul class="flex flex-col items-center">
            {navLinks.map((link) => (
                <li class="w-full">
                    <a 
                        href={link.href} 
                        class="block w-full text-center py-4 text-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"
                    >
                        {link.name}
                    </a>
                </li>
            ))}
        </ul>
    </div>
</header>

<script>
    // 1. Trouve le bouton hamburger
    const burgerButton = document.getElementById('hamburger-button');
    // 2. Trouve le menu mobile
    const mobileMenu = document.getElementById('mobile-menu');

 // --- LA CORRECTION ---
    // On vérifie que les deux éléments existent bien AVANT d'essayer
    // de les utiliser.
    if (burgerButton && mobileMenu) {
        burgerButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
    }
    // --- FIN DE LA CORRECTION ---
</script>